ALTER TABLE base_performance CHANGE discipline discipline smallint(6) DEFAULT 0 NOT NULL;
ALTER TABLE region CHANGE Anzeige Anzeige varchar(6) DEFAULT '' NOT NULL;

UPDATE faq 
   SET Antwort = 'Les meilleures performances peuvent nouvellement être actualisées en tout temps. On garantit ainsi que le meeting tient compte des dernières meilleures performances.<br/><br/>Cliquez sur la surface "Actualiser les meilleures performances"  pour appeler cette fonction.<br/>Avant d’exécuter la fonction, on vous demande ce qui doit advenir des meilleures performances inscrites à la main.<br/><br/><b>ATTENTION: Pour que les meilleures performances puissent être actualisées, il faut tout d’abord effectuer une mise à jour des données de base.</b>',
       Zeigen = 'y' 
 WHERE Frage = 'Actualiser les meilleures performances';

TRUNCATE TABLE sys_backuptabellen;
INSERT INTO `sys_backuptabellen` (`xBackup`, `Tabelle`, `SelectSQL`) VALUES 
  (1, 'anlage', 'SELECT * FROM anlage'),
  (2, 'anmeldung', 'SELECT * FROM anmeldung WHERE xMeeting = \'%d\''),
  (3, 'athlet', 'SELECT * FROM athlet'),
  (5, 'base_account', 'SELECT * FROM base_account'),
  (6, 'base_athlete', 'SELECT * FROM base_athlete'),
  (7, 'base_log', 'SELECT * FROM base_log'),
  (8, 'base_performance', 'SELECT * FROM base_performance'),
  (9, 'base_relay', 'SELECT * FROM base_relay'),
  (10, 'base_svm', 'SELECT * FROM base_svm'),
  (11, 'disziplin', 'SELECT * FROM disziplin'),
  (13, 'kategorie', 'SELECT * FROM kategorie'),
  (16, 'layout', 'SELECT * FROM layout WHERE xMeeting = \'%d\''),
  (17, 'meeting', 'SELECT * FROM meeting WHERE xMeeting=\'%d\''),
  (18, 'omega_typ', 'SELECT * FROM omega_typ'),
  (19, 'region', 'SELECT * FROM region'),
  (20, 'resultat', 'SELECT\r\n    resultat.*\r\nFROM\r\n    athletica.resultat\r\n    LEFT JOIN athletica.serienstart \r\n        ON (resultat.xSerienstart = serienstart.xSerienstart)\r\n    LEFT JOIN athletica.start \r\n        ON (serienstart.xStart = start.xStart)\r\n    LEFT JOIN athletica.wettkampf \r\n        ON (start.xWettkampf = wettkampf.xWettkampf)\r\nWHERE (wettkampf.xMeeting =\'%d\') \r\nAND xResultat IS NOT NULL;'),
  (21, 'runde', 'SELECT\r\n    runde.*\r\nFROM\r\n    athletica.wettkampf\r\n    LEFT JOIN athletica.runde \r\n        ON (wettkampf.xWettkampf = runde.xWettkampf)\r\nWHERE (wettkampf.xMeeting =\'%d\') \r\nAND xRunde IS NOT NULL;'),
  (22, 'rundenlog', 'SELECT\r\n    rundenlog.*\r\nFROM\r\n    athletica.runde\r\n    JOIN athletica.rundenlog \r\n        ON (runde.xRunde = rundenlog.xRunde)\r\n    JOIN athletica.wettkampf \r\n        ON (wettkampf.xWettkampf = runde.xWettkampf)\r\nWHERE (wettkampf.xMeeting =\'%d\') \r\nAND xRundenlog IS NOT NULL;'),
  (23, 'rundenset', 'SELECT * FROM rundenset WHERE xMeeting = \'%d\''),
  (24, 'rundentyp', 'SELECT * FROM rundentyp'),
  (25, 'serie', 'SELECT\r\n    serie.*\r\nFROM\r\n    athletica.wettkampf\r\n    LEFT JOIN athletica.runde \r\n        ON (wettkampf.xWettkampf = runde.xWettkampf)\r\n    LEFT JOIN athletica.serie \r\n        ON (runde.xRunde = serie.xRunde)\r\nWHERE (wettkampf.xMeeting =\'%d\') \r\nAND xSerie IS NOT NULL;'),
  (26, 'serienstart', 'SELECT\r\n    serienstart.*\r\nFROM\r\n    athletica.wettkampf\r\n    LEFT JOIN athletica.runde \r\n        ON (wettkampf.xWettkampf = runde.xWettkampf)\r\n    LEFT JOIN athletica.serie \r\n        ON (runde.xRunde = serie.xRunde)\r\n    LEFT JOIN athletica.serienstart \r\n        ON (serie.xSerie = serienstart.xSerie)\r\nWHERE (wettkampf.xMeeting =\'%d\') \r\nAND xSerienstart IS NOT NULL;'),
  (27, 'stadion', 'SELECT * FROM stadion'),
  (28, 'staffel', 'SELECT * FROM staffel WHERE xMeeting = \'%d\''),
  (29, 'staffelathlet', 'SELECT\r\n    staffelathlet.*\r\nFROM\r\n    athletica.staffelathlet\r\n    INNER JOIN athletica.runde \r\n        ON (staffelathlet.xRunde = runde.xRunde)\r\n    INNER JOIN athletica.wettkampf \r\n        ON (runde.xWettkampf = wettkampf.xWettkampf)\r\nWHERE (wettkampf.xMeeting =\'%d\') \r\nAND xStaffelstart IS NOT NULL;'),
  (30, 'start', 'SELECT\r\n    start.*\r\nFROM\r\n    athletica.wettkampf\r\n    LEFT JOIN athletica.start \r\n        ON (wettkampf.xWettkampf = start.xWettkampf)\r\nWHERE (wettkampf.xMeeting =\'%d\') \r\nAND xStart IS NOT NULL;'),
  (31, 'team', 'SELECT * FROM team WHERE xMeeting = \'%d\''),
  (32, 'teamsm', 'SELECT * FROM teamsm WHERE xMeeting = \'%d\''),
  (33, 'teamsmathlet', 'SELECT\r\n    teamsmathlet.*\r\nFROM\r\n    athletica.teamsmathlet\r\n    LEFT JOIN athletica.anmeldung \r\n        ON (teamsmathlet.xAnmeldung = anmeldung.xAnmeldung)\r\nWHERE (anmeldung.xMeeting =\'%d\') \r\nAND xTeamsm IS NOT NULL;'),
  (34, 'verein', 'SELECT * FROM verein'),
  (35, 'wertungstabelle', 'SELECT * FROM wertungstabelle'),
  (36, 'wertungstabelle_punkte', 'SELECT * FROM wertungstabelle_punkte'),
  (37, 'wettkampf', 'SELECT * FROM wettkampf WHERE xMeeting = \'%d\''),
  (38, 'zeitmessung', 'SELECT * FROM zeitmessung WHERE xMeeting = \'%d\'');